---
import Technology from "./technology.astro";

export interface product {
  title: string;
  description: string;
  technologies: string[];
}

export interface role {
  title: string;
  tenure: string;
}

export interface experienceItemProps {
  employer: string;
  tenure: string;
  description: string;
  roles: role[];
  products: product[];
}

interface Props extends experienceItemProps {}

const { employer, tenure, description, roles, products } = Astro.props;
---

<div>
  <div class="flex flex-col md:grid md:grid-cols-8 gap-x-16">
    <span class="font-bold w-fit text-lg col-span-2">{employer}</span>
    <div
      class="col-span-6 border-l md:border-l-0 border-[#F5F3F4]/20 pl-4 md:pl-0"
    >
      <div class="text-sm">{description}</div>
      <div class="font-bold text-sm mt-4">{tenure}</div>

      <ul class="flex flex-col gap-x-2 ml-2">
        {
          roles?.map((role) => (
            <li>
              <span class="text-xs">{role.tenure}</span>
              <span class="font-bold text-xs">{role.title}</span>
            </li>
          ))
        }
      </ul>
      <ul
        class="flex flex-col gap-x-2 gap-y-4 mt-6 md:border-l md:border-l-[#F5F3F4]/20 md:pl-4"
      >
        {
          products?.map((product) => (
            <li class="flex flex-col gap-y-1">
              <span class="font-bold">{product.title}</span>
              <span class="text-sm">{product.description}</span>
              <div class="flex flex-wrap gap-x-2 gap-y-2 mt-2">
                {product.technologies?.map((technology) => (
                  <Technology>{technology}</Technology>
                ))}
              </div>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</div>
